* {
  box-sizing: border-box;
}

body {
  margin: 0;
  background: radial-gradient(circle at top, #0f2a22, #020806);
  color: #e6f3ee;
  font-family: system-ui, sans-serif;
}

.stage {
  min-height: 100vh;
  display: grid;
  place-items: center;
  position: relative;
  overflow: hidden;
  cursor: pointer;
}

.fog {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle, transparent 30%, rgba(0,0,0,0.55));
  animation: fog 20s linear infinite;
}

@keyframes fog {
  from { transform: translateY(0); }
  to { transform: translateY(-60px); }
}

.flag {
  width: min(80vw, 260px);
  filter: drop-shadow(0 30px 60px rgba(0,0,0,0.7));
  animation: float 10s ease-in-out infinite;
}

@keyframes float {
  0%,100% { transform: rotateX(8deg) rotateY(-6deg) translateY(0); }
  50% { transform: rotateX(4deg) rotateY(4deg) translateY(-10px); }
}

/* Border dots */
.border {
  fill: none;
  stroke: #0b3b7a;
  stroke-width: 6;
  stroke-dasharray: 2 10;
  animation: draw 14s ease forwards;
}

@keyframes draw {
  from { stroke-dashoffset: 900; }
  to { stroke-dashoffset: 0; }
}

/* Red dots */
.red {
  fill: #dc143c;
  opacity: 0;
  animation: fadeIn 10s ease forwards 3s;
}

/* White symbols */
.symbol {
  fill: #fff;
  opacity: 0;
  animation: fadeIn 6s ease forwards 8s;
}

/* Soft entry */
@keyframes fadeIn {
  to { opacity: 1; }
}

/* Speed boost on click */
.stage.boost .border,
.stage.boost .red,
.stage.boost .symbol {
  animation-duration: 4s !important;
}

.still {
  margin-top: 18px;
  font-size: 1rem;
  opacity: 0;
  animation: textIn 2s ease forwards 14s;
}

.issued {
  position: absolute;
  bottom: 20px;
  font-size: 0.75rem;
  opacity: 0.5;
}

@keyframes textIn {
  to { opacity: 0.8; }
}
